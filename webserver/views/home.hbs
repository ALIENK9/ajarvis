<main class="container">
	<div class="card" >
		<div class="card-body">
			<h2 class="card-title spaced">
				Progetti
				<div>
					<a class="btn btn-outline-success" href="/projects/new">
						<i class="fa fa-plus-square"></i>
						Nuovo Progetto
					</a>
					<a class="btn btn-outline-danger" href="/projects/trash">
						<i class="fa fa-trash"></i>
						Cestino
					</a>
				</div>
			</h2>
			<table class="table table-striped table-hover text-center">
				<thead class="thead-dark">
					<tr>
						<th scope="col" class="text-left">Nome</th>
						<th scope="col" style="width: 20%">Data creazione</th>
						<th scope="col" style="width: 20%">Ultima modifica</th>
						<th scope="col" style="width: 15%">Stato</th>
					</tr>
				</thead>
				<tbody>
					{{#unless projects}}
					<tr class="text-center">
						<td colspan="4" class="italic">Nessun progetto esistente.</td>
					</tr>
					{{/unless}}
					{{#each projects}}
					<tr class="clickable-row" data-href='/project/{{id}}'>
						<th scope="row" class="text-left">
							<a href='/project/{{id}}'>{{name}}</a>
						</th>
						<td>{{dateOnlyDate dateCreation}}</td>
						<td>{{dateOnlyDate lastEdit}}</td>
						<td>
							{{#projectStatus status}}
							<span class="text-{{style}}">
								<i class="fa {{icon}}"></i>
								{{text}}
							</span>
							{{/projectStatus}}
						</td>
					</tr>
					{{/each}}
				</tbody>
			</table>
		</div>
	</div>
</main>

<script src="/js/clickableRow.js"></script>
